/*!
 * netStack v1.0.14
 * A simple and easy jQuery plugin for highlighting .NET stack traces
 * License : Apache 2
 * Author : https://elmah.io
 */
(function(n){"use strict";n.fn.netStack=function(t){function r(n,t){for(var i=0;i<t.length;i++)if(t[i].name===n)return t[i]}function u(n,t){var i=n||"",r=[{find:new RegExp(" "+t,"g"),repl:"\r\n   "+t},{find:new RegExp(" ---> ","g"),repl:"\r\n ---> "},{find:new RegExp("\\) "+t+" ","g"),repl:"\r\n "+t+" "},{find:/ --- End of inner exception stack trace ---/g,repl:"\r\n   --- End of inner exception stack trace ---"}];return r.forEach(function(n){i=i.replace(n.find,n.repl)}),i}var i=n.extend({prettyprint:!1,frame:"st-frame",type:"st-type",method:"st-method",paramsList:"st-frame-params",paramType:"st-param-type",paramName:"st-param-name",file:"st-file",line:"st-line"},t),f=[{name:"english",at:"at","in":"in",line:"line"},{name:"danish",at:"ved","in":"i",line:"linje"},{name:"german",at:"bei","in":"in",line:"Zeile"}];return this.each(function(){for(var s,o,nt,tt,c,p,rt,et,v,ot=n(this).text(),y=ot.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e=y.split("\n"),h="",b="",t=0,k=e.length;t<k;++t)if(h===""){var gt=e[t],st=new RegExp("\\bat .*\\)"),ht=new RegExp("\\bved .*\\)"),ct=new RegExp("\\bbei .*\\)");st.test(e[t])?h="english":ht.test(e[t])?h="danish":ct.test(e[t])&&(h="german")}if(h!==""){for(s=r(h,f),i.prettyprint&&(y=u(y,s.at),e=y.split("\n")),t=0,k=e.length;t<k;++t)if(o=e[t],nt=new RegExp("\\b"+s.at+" .*\\)"),nt.test(e[t])){tt=new RegExp("\\b"+s.at+" .*?\\)");c=String(tt.exec(e[t]));c=c.replace(s.at+" ","");var lt=new RegExp("\\(.*\\)"),d=String(lt.exec(e[t])),at=d.replace("(","").replace(")",""),it=at.split(", "),l="";for(p=0,rt=it.length;p<rt;++p){var ut="",w=it[p].split(" "),vt=w[0],yt=w[1];w[0]!=="null"&&w[0]!==""&&(ut='<span class="'+i.paramType+'">'+vt+'<\/span> <span class="'+i.paramName+'">'+yt+"<\/span>",l+=String(ut)+", ")}l=l.replace(/,\s*$/,"");l='<span class="'+i.paramsList+'">('+l+")<\/span>";var g=c.replace(d,""),pt=g.split("."),ft=pt.pop(),wt=g.replace("."+ft,""),bt='<span class="'+i.type+'">'+wt+'<\/span>.<span class="'+i.method+'">'+ft+"<\/span>",kt=c.replace(d,l).replace(g,bt),dt=new RegExp("\\b:"+s.line+".*"),a=String(dt.exec(e[t]));a=a.replace(":","");et=new RegExp("\\b"+s["in"]+"\\s.*$","m");v=String(et.exec(e[t]));v=v.replace(s["in"]+" ","").replace(":"+a,"");o=o.replace(c,'<span class="'+i.frame+'">'+kt+"<\/span>").replace(v,'<span class="'+i.file+'">'+v+"<\/span>").replace(a,'<span class="'+i.line+'">'+a+"<\/span>");o=o.replace(/&lt;/g,"<span>&lt;<\/span>").replace(/&gt;/g,"<span>&gt;<\/span>");b+=e.length-1==t?o:o+"\n"}else e[t].trim().length&&(o=e[t],b+=e.length-1==t?o:o+"\n");return n(this).html(b)}})}})(jQuery);